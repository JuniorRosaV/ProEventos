<div class="eventos-container">

  <!-- FUNDO ANIMADO -->
  <div class="animated-bg"></div>
  <div class="bg-gradient"></div>
  <div class="blob blob-purple"></div>
  <div class="blob blob-blue"></div>

  <!-- PARTÃCULAS -->
  <div class="particles">
    <span
      *ngFor="let p of particles"
      [style.--x]="p.x"
      [style.--d]="p.d"
      [style.--s]="p.s">
    </span>
  </div>

  <!-- CANVAS -->
  <canvas #network class="network-canvas"></canvas>

  <!-- GLOW -->
  <div class="mouse-glow"></div>

  <!-- CONTEÃšDO -->
  <div class="eventos-content">

    <!-- HEADER -->
    <header class="eventos-header">
      <h1>Descubra eventos incrÃ­veis</h1>
      <p>Conecte-se com a comunidade tech e expanda seu networking</p>

      <div class="header-actions">
        <div class="filtros">
          <button class="btn-filter active">Todos</button>
          <button class="btn-filter">Hackathons</button>
          <button class="btn-filter">ConferÃªncias</button>
          <button class="btn-filter">Workshops</button>
          <button class="btn-filter">Meetups</button>
        </div>

        <a routerLink="/eventos/detalhe" class="btn-novo-evento">
          <i class="fa fa-plus"></i>
          Novo evento
        </a>
      </div>
    </header>

    <!-- STATS -->
    <section class="stats">
      <div class="stat-card">
        <h3>{{ eventos.length }}</h3>
        <span>Eventos disponÃ­veis</span>
      </div>

      <div class="stat-card">
        <h3>{{ totalParticipantes }}</h3>
        <span>Participantes</span>
      </div>

      <div class="stat-card">
        <h3>{{ eventosFiltrados.length }}</h3>
        <span>Resultados</span>
      </div>
    </section>

    <!-- LOADING -->
    <div *ngIf="loading" class="loading">
      <p>Carregando eventos...</p>
    </div>

    <!-- GRID -->
    <section class="event-grid" *ngIf="!loading && eventosFiltrados.length">
      <article class="event-card" *ngFor="let evento of eventosFiltrados">

        <img
          *ngIf="mostrarImagem"
          [src]="'/assets/' + evento.imagemUrl"
          alt="Evento" />

        <div class="event-content">
          <h4>{{ evento.tema }}</h4>
          <p class="local">{{ evento.local }}</p>

          <div class="info">
            <span>{{ evento.dataEvento | DateTimeFormatPipe }}</span>
            <span>{{ evento.dataEvento | HoursFormatPipe }}</span>
          </div>

          <footer class="footer">
            <span class="people">ğŸ‘¥ {{ evento.qtdPessoas }}</span>

            <div class="actions">
              <button class="btn-icon edit">
                <i class="fa fa-edit"></i>
              </button>
              <button class="btn-icon delete" (click)="openModal(template)">
                <i class="fa fa-trash"></i>
              </button>
            </div>
          </footer>
        </div>

      </article>
    </section>

    <!-- EMPTY -->
    <div *ngIf="!loading && !eventosFiltrados.length" class="empty">
      <h3>ğŸ” Nenhum evento encontrado</h3>
      <p>Tente ajustar os filtros</p>
    </div>

  </div>

  <!-- MODAL -->
  <ng-template #template>
    <div class="modal-body text-center">
      <p>Deseja excluir este evento?</p>
      <button class="btn btn-danger me-2" (click)="confirm()">Sim</button>
      <button class="btn btn-secondary" (click)="decline()">NÃ£o</button>
    </div>
  </ng-template>

</div>
